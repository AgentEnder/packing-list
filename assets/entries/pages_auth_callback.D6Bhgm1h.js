import{e as u,n as m,j as e,f as i,i as x,W as h,o as f,L as w,a as g,b as j,c as b,d as y}from"../chunks/chunk-CkW1dBBz.js";import{r as n}from"../chunks/chunk-pSdIku02.js";import"../chunks/chunk-Bwb-TI-m.js";/* empty css                      *//* empty css                      *//* empty css                      */function v(){const{user:t,error:a}=u(),[o,d]=n.useState(3),[c,p]=n.useState(!1);return console.log("üéØ [CALLBACK] Initial state - user:",t,"error:",a),n.useEffect(()=>{console.log("üéØ [CALLBACK] Callback page loaded"),console.log("üéØ [CALLBACK] window.opener:",window.opener),console.log("üéØ [CALLBACK] window.opener !== window:",window.opener!==window),console.log("üéØ [CALLBACK] window.opener exists:",!!window.opener),console.log("üéØ [CALLBACK] window.opener && window.opener !== window:",window.opener&&window.opener!==window),console.log("üéØ [CALLBACK] Current URL:",window.location.href),console.log("üéØ [CALLBACK] Current user:",t),console.log("üéØ [CALLBACK] Current error:",a);const s=window.opener&&window.opener!==window;if(console.log("üéØ [CALLBACK] Detected popup mode:",s),p(s),s)console.log("üéØ [CALLBACK] In popup mode - waiting for auth completion..."),(t||a)&&(console.log("üéØ [CALLBACK] Auth completed in popup:",{user:!!t,error:a}),setTimeout(()=>{console.log("üéØ [CALLBACK] Closing popup window"),window.close()},1e3));else if(console.log("üéØ [CALLBACK] In regular page mode"),t){console.log("üéØ [CALLBACK] User authenticated, starting redirect countdown");const r=setInterval(()=>{d(l=>l<=1?(clearInterval(r),console.log("üéØ [CALLBACK] Redirecting to home page"),m("/"),0):l-1)},1e3);return()=>clearInterval(r)}},[t,a]),c?a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-error text-4xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"card-title justify-center text-error text-lg",children:"Authentication Failed"}),e.jsx("p",{className:"text-sm text-base-content/70 mb-4",children:a}),e.jsx("p",{className:"text-xs text-base-content/50",children:"This window will close automatically..."})]})})}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-success text-4xl mb-4",children:"‚úÖ"}),e.jsx("h2",{className:"card-title justify-center text-success text-lg",children:"Success!"}),e.jsxs("p",{className:"text-sm text-base-content/70 mb-4",children:["Welcome, ",t.name||t.email,"!"]}),e.jsx("p",{className:"text-xs text-base-content/50",children:"Closing window..."})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("span",{className:"loading loading-spinner loading-lg text-primary"}),e.jsx("h2",{className:"card-title justify-center text-lg",children:"Completing Authentication"}),e.jsx("p",{className:"text-sm text-base-content/70",children:"Please wait..."})]})})}):a?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-error text-6xl mb-4",children:"‚ö†Ô∏è"}),e.jsx("h2",{className:"card-title justify-center text-error",children:"Authentication Failed"}),e.jsx("p",{className:"text-base-content/70 mb-4",children:a}),e.jsxs("div",{className:"card-actions justify-center",children:[e.jsx(i,{href:"/login",className:"btn btn-primary",children:"Try Again"}),e.jsx(i,{href:"/",className:"btn btn-outline",children:"Continue as Guest"})]})]})})}):t?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-success text-6xl mb-4",children:"‚úÖ"}),e.jsx("h2",{className:"card-title justify-center text-success",children:"Authentication Successful!"}),e.jsxs("p",{className:"text-base-content/70 mb-4",children:["Welcome back, ",t.name||t.email,"!"]}),e.jsxs("p",{className:"text-sm text-base-content/50",children:["Redirecting to the app in ",o," second",o!==1?"s":"","..."]}),e.jsx("div",{className:"card-actions justify-center mt-4",children:e.jsx(i,{href:"/",className:"btn btn-primary",children:"Go to App Now"})})]})})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-base-200",children:e.jsx("div",{className:"card w-full max-w-md shadow-2xl bg-base-100",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("span",{className:"loading loading-spinner loading-lg text-primary"}),e.jsx("h2",{className:"card-title justify-center",children:"Completing Authentication"}),e.jsx("p",{className:"text-base-content/70",children:"Please wait while we complete your sign-in..."})]})})})}const A=Object.freeze(Object.defineProperty({__proto__:null,default:v},Symbol.toStringTag,{value:"Module"})),T="Authenticating...",C=Object.freeze(Object.defineProperty({__proto__:null,default:T},Symbol.toStringTag,{value:"Module"})),z={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:y}},onHydrationEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onHydrationEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:b}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:j}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:g}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/auth/callback/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:A}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:w}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/auth/callback/+title.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:C}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/onBeforeRenderClient",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:f}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/Wrapper",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:h}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:x}}};export{z as configValuesSerialized};
