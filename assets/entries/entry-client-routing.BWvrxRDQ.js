import{a6 as c,a7 as u,a8 as f,a1 as s,a9 as d,aa as g,ab as p,ac as m,ad as S,ae as k,af as y,ag as P,ah as h,ai as N,a2 as w,aj as C}from"../chunks/chunk-Bwb-TI-m.js";import"../chunks/chunk-pSdIku02.js";function H(){window.addEventListener("popstate",L)}async function L(){c("onPopState()");const{isHistoryStateEnhanced:t,previous:a,current:i}=u();if(t)await v(a,i);else return}async function v(t,a){const i=a.state.scrollPosition||void 0;if(r(a.url)===r(t.url)&&a.url!==t.url){f(i);return}const o=a.state.triggeredBy==="user"||t.state.triggeredBy==="user",l=!a.state.timestamp||!t.state.timestamp?null:a.state.timestamp<t.state.timestamp;await s({scrollTarget:i,isBackwardNavigation:l,doNotRenderIfSamePage:o})}function r(t){return t.split("#")[0]}function B(){document.addEventListener("click",T)}async function T(t){if(!A(t))return;const a=R(t.target);if(!a)return;const i=a.getAttribute("href");if(i===null)return;if(i.includes("#")&&d(i)){t.preventDefault(),g(i.split("#")[1]);return}if(p(a))return;t.preventDefault();let n;{const e=a.getAttribute("keep-scroll-position");e!==null&&(n={preserveScroll:e!=="false"})}await s({scrollTarget:n,urlOriginal:i,isBackwardNavigation:!1})}function A(t){return t.button===0&&!t.ctrlKey&&!t.shiftKey&&!t.altKey&&!t.metaKey}function R(t){for(;t.tagName!=="A";){const{parentNode:a}=t;if(!a)return null;t=a}return t}async function b(){I();const t=E();B(),m(),await t}async function E(){h(N()===0),await s({scrollTarget:{preserveScroll:!0},isBackwardNavigation:null,isClientSideNavigation:!1})}function I(){S(),k(),y(),P(),H()}w();C();b();
