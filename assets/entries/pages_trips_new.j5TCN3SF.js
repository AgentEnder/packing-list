import{u as U,aP as z,P as R,aL as L,aM as B,aQ as I,H as W,j as e,f as y,N as T,h as b,w as V,n as v,i as H,W as M,o as O,L as $,a as F,b as q,c as G,d as Q}from"../chunks/chunk-CkW1dBBz.js";import{r as o,a as j}from"../chunks/chunk-pSdIku02.js";import{u as Y,f as r,a as w}from"../chunks/chunk-Bwb-TI-m.js";import{P as S,a as N}from"../chunks/chunk-CIGAIrCQ.js";/* empty css                      *//* empty css                      *//* empty css                      */const h=[{id:"business",name:"Business Trip",description:"Professional travel for work",icon:z,defaultDuration:3,category:"work"},{id:"vacation",name:"Vacation",description:"Leisure travel and relaxation",icon:R,defaultDuration:7,category:"leisure"},{id:"weekend",name:"Weekend Getaway",description:"Short recreational trip",icon:L,defaultDuration:2,category:"leisure"},{id:"backpacking",name:"Backpacking",description:"Adventure travel with minimal gear",icon:B,defaultDuration:5,category:"adventure"},{id:"hiking",name:"Hiking Trip",description:"Outdoor adventure in nature",icon:I,defaultDuration:3,category:"adventure"},{id:"custom",name:"Custom Trip",description:"Start from scratch",icon:W,defaultDuration:5,category:"custom"}];function Z(){const n=Y(),f=U(),[D,c]=o.useState("template"),[P,x]=o.useState(null),[a,p]=o.useState({title:"",description:"",startDate:"",endDate:"",location:""}),[d,g]=o.useState(!1);o.useEffect(()=>{const t=new URLSearchParams(f.urlParsed?.search||""),i=t.get("startDate"),s=t.get("endDate");i&&s&&(p(m=>({...m,startDate:i,endDate:s})),x("custom"),c("details"))},[f.urlParsed?.search]);const C=h.find(t=>t.id===P),E=t=>{x(t);const i=h.find(s=>s.id===t);i&&p(s=>({...s,title:i.name,description:i.description})),c("details")},l=t=>{const{name:i,value:s}=t.target;p(m=>({...m,[i]:s}))},k=()=>{const t=[];return a.startDate&&t.push({id:r(),type:"leave_home",date:a.startDate,notes:""}),a.location&&a.startDate&&a.endDate&&(t.push({id:r(),type:"arrive_destination",date:a.startDate,location:a.location,notes:""}),t.push({id:r(),type:"leave_destination",date:a.endDate,location:a.location,notes:""})),a.endDate&&t.push({id:r(),type:"arrive_home",date:a.endDate,notes:""}),t},_=async t=>{if(t.preventDefault(),u){const i=r();n({type:"CREATE_TRIP",payload:{tripId:i,title:a.title||"New Trip",description:a.description}});const s=k();n({type:"UPDATE_TRIP_EVENTS",payload:s}),n(w.initFlow({steps:[{path:`/trips/${i}`,label:"Trip"},{path:`/trips/${i}/wizard`,label:"Configure Trip"},{path:"/people",label:"People"},{path:"/defaults",label:"Rules"},{path:"/packing-list",label:"Packing List"}],current:1})),n({type:"RESET_WIZARD"}),await v(j("/packing-list",`/trips/${i}/wizard`))}},A=async()=>{g(!0);try{const t=r();n({type:"CREATE_TRIP",payload:{tripId:t,title:a.title||"New Trip",description:a.description}});const i={x:typeof window<"u"?window.innerWidth/2:0,y:typeof window<"u"?window.innerHeight/2:0,w:0,h:0};n(w.triggerConfettiBurst(i)),await v(j("/packing-list","/"))}catch(t){console.error("Failed to create trip:",t)}finally{g(!1)}},u=a.title.trim().length>0;return D==="template"?e.jsxs(S,{children:[e.jsx(N,{title:"Create New Trip",actions:e.jsxs(y,{href:"/trips",className:"btn btn-ghost gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Back to Trips"]})}),e.jsx("div",{className:"mb-6",children:e.jsx("p",{className:"text-base-content/70",children:"Choose a template to get started quickly. After basic details, you'll configure your trip dates and destinations."})}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:h.map(t=>{const i=t.icon;return e.jsx("button",{onClick:()=>E(t.id),className:"card bg-base-100 shadow-lg border-2 border-transparent hover:border-primary transition-all hover:shadow-xl text-left p-0","data-testid":`template-${t.id}`,children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-primary/10 p-3 rounded-lg flex-shrink-0",children:e.jsx(i,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"card-title text-lg",children:t.name}),e.jsx("p",{className:"text-sm text-base-content/70 mt-1",children:t.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-base-content/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(b,{className:"w-3 h-3"}),t.defaultDuration," days"]}),e.jsx("span",{className:"capitalize",children:t.category})]})]})]})})},t.id)})})]}):e.jsxs(S,{children:[e.jsx(N,{title:"Trip Details",actions:e.jsxs("button",{onClick:()=>c("template"),className:"btn btn-ghost gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Back to Templates"]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-base-content/70",children:["Provide basic information for your ",C?.name.toLowerCase(),". Next, you'll be able to configure dates, destinations, and packing rules."]})}),e.jsx("div",{className:"max-w-2xl",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Trip Title *"})}),e.jsx("input",{type:"text",name:"title",value:a.title,onChange:l,className:"input input-bordered w-full",placeholder:"Enter trip title",required:!0,"data-testid":"trip-title-input"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Description"})}),e.jsx("textarea",{name:"description",value:a.description,onChange:l,className:"textarea textarea-bordered w-full h-24",placeholder:"Describe your trip (optional)","data-testid":"trip-description-input"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Destination"})}),e.jsx("input",{type:"text",name:"location",value:a.location,onChange:l,className:"input input-bordered w-full",placeholder:"Where are you going?","data-testid":"trip-location-input"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"Start Date"})}),e.jsx("input",{type:"date",name:"startDate",value:a.startDate,onChange:l,className:"input input-bordered w-full","data-testid":"trip-start-date-input"})]}),e.jsxs("div",{className:"form-control",children:[e.jsx("label",{className:"label",children:e.jsx("span",{className:"label-text font-medium",children:"End Date"})}),e.jsx("input",{type:"date",name:"endDate",min:a.startDate||void 0,value:a.endDate,onChange:l,className:"input input-bordered w-full","data-testid":"trip-end-date-input"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx(y,{href:"/trips",className:"btn btn-ghost",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:!u||d,className:"btn btn-primary gap-2 flex-1","data-testid":"create-trip-submit",children:[d?e.jsx("span",{className:"loading loading-spinner loading-sm"}):e.jsx(b,{className:"w-4 h-4"}),d?"Creating...":"Configure Trip Dates"]})]}),e.jsx("div",{className:"divider",children:"OR"}),e.jsxs("button",{type:"button",onClick:A,disabled:!u||d,className:"btn btn-outline gap-2","data-testid":"skip-dates-submit",children:[e.jsx(V,{className:"w-4 h-4"}),"Create Trip Without Dates"]}),e.jsx("p",{className:"text-sm text-base-content/60 text-center",children:"You can always add trip dates later from the Days page"})]})]})})]})}const J=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"})),K="New Trip",X=Object.freeze(Object.defineProperty({__proto__:null,default:K},Symbol.toStringTag,{value:"Module"})),le={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:Q}},onHydrationEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onHydrationEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:G}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:q}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:F}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/trips/new/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:J}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:$}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/trips/new/+title.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:X}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/onBeforeRenderClient",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:O}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/Wrapper",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:M}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:H}}};export{le as configValuesSerialized};
