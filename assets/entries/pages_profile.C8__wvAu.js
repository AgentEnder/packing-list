import{j as e,A as d,h as N,U as T,K as D,z as U,S as C,i as A,W as z,o as E,L,a as R,b as k,c as _,d as B}from"../chunks/chunk-CkW1dBBz.js";import{u as P,B as S,G as I,f as M,x as O,t as H,b as g,v as V,D as F,E as G,H as W,I as b}from"../chunks/chunk-Bwb-TI-m.js";import{r as f}from"../chunks/chunk-pSdIku02.js";import{P as v,a as y}from"../chunks/chunk-CIGAIrCQ.js";/* empty css                      *//* empty css                      *//* empty css                      */function Y({profile:t,userId:n,isEditing:r}){const o=P(),[s,i]=f.useState({name:t?.name||"",birthDate:t?.birthDate||"",gender:t?.gender||""}),[x,c]=f.useState(!1),[m,u]=f.useState([]);f.useEffect(()=>{t&&i({name:t.name,birthDate:t.birthDate||"",gender:t.gender||""})},[t]);const j=(a,l)=>{i(h=>({...h,[a]:l})),m.length>0&&u([])},w=async a=>{a.preventDefault(),c(!0),u([]);try{const l={userId:n,name:s.name.trim(),birthDate:s.birthDate||void 0,gender:s.gender?s.gender:void 0,settings:t?.settings||{},isUserProfile:!0},h=I(l);if(h.length>0){u(h),c(!1);return}let p;r&&t?p={...t,...l,updatedAt:new Date().toISOString(),version:(t.version||1)+1}:p={id:M(),...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),version:1,isDeleted:!1},o(O(p)),console.log(`âœ… [USER PROFILE FORM] ${r?"Updated":"Created"} profile: ${p.name}`)}catch(l){console.error("Profile submission error:",l),u(["An unexpected error occurred. Please try again."])}finally{c(!1)}};return e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[m.length>0&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),e.jsx("ul",{className:"mt-2 text-sm text-red-700 list-disc list-inside",children:m.map((a,l)=>e.jsx("li",{children:a},l))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(d,{className:"h-4 w-4"}),"Name *"]}),e.jsx("input",{type:"text",value:s.name,onChange:a=>j("name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your name",required:!0,"data-testid":"profile-name-input"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This will be used for personalized packing suggestions"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Birth Date (optional)"]}),e.jsx("input",{type:"date",value:s.birthDate,onChange:a=>j("birthDate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your birth date","data-testid":"profile-birthdate-input"}),s.birthDate&&e.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Current age: ",S(s.birthDate)," years old"]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Helps provide age-appropriate packing recommendations"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Gender (optional)"]}),e.jsxs("select",{value:s.gender,onChange:a=>j("gender",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500","data-testid":"profile-gender-select",children:[e.jsx("option",{value:"",children:"Select gender (optional)"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"prefer-not-to-say",children:"Prefer not to say"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Helps provide gender-specific packing suggestions"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed","data-testid":"profile-save-button",children:[e.jsx(D,{className:"h-4 w-4"}),x?"Saving...":r?"Update Profile":"Create Profile"]})}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," Your profile changes are automatically synced across all your devices. The sync system handles server communication in the background."]})})]})}function $({profile:t}){const n=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),r=s=>{const[i,x,c]=s.split("-");return new Date(parseInt(i),parseInt(x)-1,parseInt(c)).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},o=s=>s?s.charAt(0).toUpperCase()+s.slice(1).replace(/-/g," "):"Not specified";return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(d,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Your Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Personal information and preferences"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"text-gray-900",children:t.name})]})]}),t.birthDate&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(N,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Age"}),e.jsxs("p",{className:"text-gray-900",children:[S(t.birthDate)," years old"]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Born: ",r(t.birthDate)]})]})]}),t.gender&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(d,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Gender"}),e.jsx("p",{className:"text-gray-900",children:o(t.gender)})]})]}),t.settings&&Object.keys(t.settings).length>0&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(C,{className:"h-4 w-4 text-gray-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Custom Settings"}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[Object.keys(t.settings).length," preference(s) saved"]})]})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("p",{children:["Created: ",n(t.createdAt)]}),e.jsxs("p",{children:["Last updated: ",n(t.updatedAt)]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-400 rounded-full mr-2"}),"Active Profile"]})})]})}function q(){const t=P(),{user:n}=H(),r=g(V),o=g(F),s=g(G),i=g(W);return s&&t(b()),n?o?e.jsxs(v,{children:[e.jsx(y,{title:"Profile"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your profile..."})]})})]}):e.jsxs(v,{children:[e.jsx(y,{title:"Profile"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("header",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(d,{className:"h-6 w-6 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Profile"})]}),e.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences for better packing recommendations."})]}),s&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Profile Error"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:s})]}),e.jsx("div",{className:"ml-auto",children:e.jsx("button",{onClick:()=>t(b()),className:"text-red-400 hover:text-red-600","aria-label":"Dismiss error",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:i&&r?e.jsx($,{profile:r}):e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[e.jsx(d,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Profile Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Create your profile to get personalized packing recommendations based on your preferences."})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:i?"Edit Profile":"Create Profile"}),e.jsx(Y,{profile:r,userId:n.id,isEditing:i})]})})]}),e.jsxs("div",{className:"mt-12 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"Why Create a Profile?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Personalized Items"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Get packing suggestions tailored to your age and gender."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Save Preferences"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Your preferences are automatically saved across all trips."})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Quick Setup"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Automatically add yourself to new trips as a person."})]})]})]})]})]})]}):e.jsxs(v,{children:[e.jsx(y,{title:"Profile"}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Profile Access"}),e.jsx("p",{className:"text-gray-600",children:"Please sign in to view and manage your profile."})]})})]})}const K=Object.freeze(Object.defineProperty({__proto__:null,Page:q},Symbol.toStringTag,{value:"Module"})),Q="Profile - Packing List",J=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"})),le={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:B}},onHydrationEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onHydrationEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:_}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:k}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:R}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/profile/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:K}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:L}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/profile/+title.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:J}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/onBeforeRenderClient",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:E}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/Wrapper",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:z}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:A}}};export{le as configValuesSerialized};
