import{u as V,n as p,j as e,T as L,f as n,N as T,K as M,S as b,a3 as S,h as k,U as R,az as P,H as B,Q as O,p as W,i as F,W as H,o as $,L as K,a as G,b as Q,c as Y,d as q}from"../chunks/chunk-CkW1dBBz.js";import{r as o,a as h}from"../chunks/chunk-pSdIku02.js";import{u as J,b as j}from"../chunks/chunk-Bwb-TI-m.js";import{P as D,a as X}from"../chunks/chunk-CIGAIrCQ.js";/* empty css                      *//* empty css                      *//* empty css                      */function Z(){const s=V().routeParams?.tripId,r=J(),y=j(t=>t.trips.summaries),d=j(t=>t.trips.byId[s]),v=j(t=>t.trips.selectedTripId),a=y.find(t=>t.tripId===s),[l,E]=o.useState({title:a?.title||"",description:a?.description||""}),[i,C]=o.useState({defaultViewMode:d?.packingListView.viewMode||"by-day",showPackedItems:d?.packingListView.filters.packed||!0,showUnpackedItems:d?.packingListView.filters.unpacked||!0,showExcludedItems:d?.packingListView.filters.excluded||!1}),[I,x]=o.useState(!1),[u,w]=o.useState(!1);o.useEffect(()=>{a||p(h("/packing-list","/trips"))},[a]);const N=(t,f)=>{E(g=>({...g,[t]:f}))},c=(t,f)=>{C(g=>({...g,[t]:f}))},U=async()=>{if(a){w(!0);try{(l.title!==a.title||l.description!==a.description)&&r({type:"UPDATE_TRIP_SUMMARY",payload:{tripId:s,title:l.title,description:l.description}}),r({type:"UPDATE_PACKING_LIST_VIEW",payload:{viewMode:i.defaultViewMode,filters:{packed:i.showPackedItems,unpacked:i.showUnpackedItems,excluded:i.showExcludedItems}}}),await p(h("/packing-list","/trips"))}catch(t){console.error("Failed to save trip settings:",t)}finally{w(!1)}}},A=()=>{a&&(r({type:"DELETE_TRIP",payload:{tripId:s}}),x(!1),p(h("/packing-list","/trips")))},_=()=>{s!==v&&r({type:"SELECT_TRIP",payload:{tripId:s}}),p(h("/packing-list","/"))},z=l.title.trim().length>0;return a?e.jsxs(D,{children:[e.jsx(X,{title:"Trip Settings",actions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{href:"/trips",className:"btn btn-ghost",children:[e.jsx(T,{className:"w-4 h-4"}),"Back"]}),e.jsxs("button",{onClick:U,disabled:!z||u,className:"btn btn-primary gap-2","data-testid":"save-trip-settings",children:[u?e.jsx("span",{className:"loading loading-spinner loading-sm"}):e.jsx(M,{className:"w-4 h-4"}),u?"Saving...":"Save Changes"]})]})}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[e.jsx("div",{className:"card bg-base-100 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title flex items-center gap-2 mb-4",children:[e.jsx(b,{className:"w-5 h-5"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-6 w-full",children:[e.jsx("div",{className:"form-control",children:e.jsxs("fieldset",{className:"fieldset w-full",children:[e.jsx("legend",{className:"fieldset-legend",children:"Trip Title"}),e.jsx("input",{type:"text",placeholder:"Enter trip title",className:"input input-bordered w-full",value:l.title,onChange:t=>N("title",t.target.value),"data-testid":"trip-title-input"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("fieldset",{className:"fieldset w-full",children:[e.jsx("legend",{className:"fieldset-legend",children:"Description"}),e.jsx("textarea",{placeholder:"Add a description for your trip (optional)",className:"textarea textarea-bordered h-24 w-full",value:l.description,onChange:t=>N("description",t.target.value),"data-testid":"trip-description-input"})]})})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title flex items-center gap-2 mb-4",children:[e.jsx(S,{className:"w-5 h-5"}),"Packing List Preferences"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"form-control",children:e.jsxs("fieldset",{className:"fieldset w-full",children:[e.jsx("legend",{className:"fieldset-legend",children:"Default View Mode"}),e.jsxs("select",{className:"select select-bordered",value:i.defaultViewMode,onChange:t=>c("defaultViewMode",t.target.value),"data-testid":"view-mode-select",children:[e.jsx("option",{value:"by-day",children:"By Day"}),e.jsx("option",{value:"by-person",children:"By Person"})]})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("fieldset",{className:"fieldset w-full",children:[e.jsx("legend",{className:"fieldset-legend",children:"Item Visibility"}),e.jsxs("div",{className:"space-y-3 flex flex-col gap-2",children:[e.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[e.jsx("input",{type:"checkbox",className:"checkbox",checked:i.showPackedItems,onChange:t=>c("showPackedItems",t.target.checked),"data-testid":"show-packed-checkbox"}),e.jsx("span",{className:"label-text",children:"Show packed items"})]}),e.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[e.jsx("input",{type:"checkbox",className:"checkbox",checked:i.showUnpackedItems,onChange:t=>c("showUnpackedItems",t.target.checked),"data-testid":"show-unpacked-checkbox"}),e.jsx("span",{className:"label-text",children:"Show unpacked items"})]}),e.jsxs("label",{className:"label cursor-pointer justify-start gap-3",children:[e.jsx("input",{type:"checkbox",className:"checkbox",checked:i.showExcludedItems,onChange:t=>c("showExcludedItems",t.target.checked),"data-testid":"show-excluded-checkbox"}),e.jsx("span",{className:"label-text",children:"Show excluded items"})]})]})]})})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title flex items-center gap-2 mb-4",children:[e.jsx(k,{className:"w-5 h-5"}),"Trip Information"]}),e.jsxs("div",{className:"stats stats-vertical shadow-none",children:[e.jsxs("div",{className:"stat px-0",children:[e.jsx("div",{className:"stat-figure text-primary",children:e.jsx(R,{className:"w-6 h-6"})}),e.jsx("div",{className:"stat-title",children:"People"}),e.jsx("div",{className:"stat-value text-primary",children:d?.people.length||0}),e.jsx("div",{className:"stat-desc",children:e.jsx(n,{href:"/people",className:"link link-primary",children:"Manage people"})})]}),e.jsxs("div",{className:"stat px-0",children:[e.jsx("div",{className:"stat-figure text-secondary",children:e.jsx(k,{className:"w-6 h-6"})}),e.jsx("div",{className:"stat-title",children:"Days"}),e.jsx("div",{className:"stat-value text-secondary",children:d?.trip.days.length||0}),e.jsx("div",{className:"stat-desc",children:e.jsx(n,{href:"/days",className:"link link-secondary",children:"Manage itinerary"})})]})]}),e.jsx("div",{className:"divider"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("p",{className:"text-sm text-base-content/70",children:["Created: ",P(a.createdAt)]}),a.updatedAt!==a.createdAt&&e.jsxs("p",{className:"text-sm text-base-content/70",children:["Updated: ",P(a.updatedAt)]})]})]})}),e.jsx("div",{className:"card bg-base-100 shadow-lg",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h3",{className:"card-title flex items-center gap-2 mb-4",children:[e.jsx(b,{className:"w-5 h-5"}),"Actions"]}),e.jsxs("div",{className:"space-y-3",children:[s!==v&&e.jsxs("button",{onClick:_,className:"btn btn-primary w-full gap-2","data-testid":"switch-to-trip",children:[e.jsx(B,{className:"w-4 h-4"}),"Switch to This Trip"]}),e.jsxs(n,{href:`/trips/${s}`,className:"btn btn-ghost w-full gap-2","data-testid":"view-trip-details",children:[e.jsx(S,{className:"w-4 h-4"}),"View Trip Details"]}),e.jsx("div",{className:"divider"}),e.jsxs("button",{onClick:()=>x(!0),className:"btn btn-error btn-outline w-full gap-2","data-testid":"delete-trip-button",children:[e.jsx(O,{className:"w-4 h-4"}),"Delete Trip"]})]})]})})]}),e.jsx(W,{isOpen:I,onClose:()=>x(!1),title:"Delete Trip",message:`Are you sure you want to delete "${a.title}"? This action cannot be undone.`,confirmText:"Delete Trip",cancelText:"Cancel",confirmVariant:"error",onConfirm:A,"data-testid":"delete-trip-confirm-dialog"})]}):e.jsx(D,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx(L,{className:"w-16 h-16 mx-auto text-error mb-4"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Trip Not Found"}),e.jsx("p",{className:"text-base-content/70 mb-6",children:"The trip you're looking for doesn't exist or has been deleted."}),e.jsxs(n,{href:"/trips",className:"btn btn-primary",children:[e.jsx(T,{className:"w-4 h-4"}),"Back to Trips"]})]})})}const ee=Object.freeze(Object.defineProperty({__proto__:null,default:Z},Symbol.toStringTag,{value:"Module"}));function te(m){const s=m.store,r=m.routeParams.tripId;return`Trip Settings - ${s.getState().trips.byId[r]?.trip.title}`}const ae=Object.freeze(Object.defineProperty({__proto__:null,title:te},Symbol.toStringTag,{value:"Module"})),ce={isClientRuntimeLoaded:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:!0}},onBeforeRenderEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},dataEnv:{type:"computed",definedAtData:null,valueSerialized:{type:"js-serialized",value:null}},onRenderClient:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/onRenderClient",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:q}},onHydrationEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onHydrationEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Y}},onPageTransitionStart:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionStart.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:Q}},onPageTransitionEnd:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+onPageTransitionEnd.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:G}},Page:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/trips/@tripId/settings/+Page.tsx",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ee}},hydrationCanBeAborted:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/+config.ts",fileExportPathToShowToUser:["default","hydrationCanBeAborted"]},valueSerialized:{type:"js-serialized",value:!0}},Layout:{type:"cumulative",definedAtData:[{filePathToShowToUser:"/layouts/LayoutDefault.tsx",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:K}]},title:{type:"standard",definedAtData:{filePathToShowToUser:"/pages/trips/@tripId/settings/+title.ts",fileExportPathToShowToUser:[]},valueSerialized:{type:"plus-file",exportValues:ae}},onBeforeRenderClient:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/onBeforeRenderClient",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:$}]},Wrapper:{type:"cumulative",definedAtData:[{filePathToShowToUser:"vike-react-redux/__internal/Wrapper",fileExportPathToShowToUser:[]}],valueSerialized:[{type:"pointer-import",value:H}]},Loading:{type:"standard",definedAtData:{filePathToShowToUser:"vike-react/__internal/integration/Loading",fileExportPathToShowToUser:[]},valueSerialized:{type:"pointer-import",value:F}}};export{ce as configValuesSerialized};
